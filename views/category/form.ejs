<div class="category-form-page">
  <section class="category-form-section">
    <div class="ctr">
      <h2 class="section-header"><%= locals.mode || 'create' %> category</h2>

      <form method="post">
        <%- include ('../partials/csrf') %>
        <div class="input-lbl-err-ctr">
          <label for="categoryNameInput">category name</label>
          <input
            type="text"
            name="name"
            minlength="3"
            id="categoryNameInput"
            class="<%= locals.errors?.name && 'invalid' %>"
            value="<%= locals.fields?.name || locals.category?.name || '' %>"
            required
          />
          <%- include ('../partials/field-error', {field: 'name'}) %>
        </div>

        <% if (locals.mode === 'update') { %>
          <div class="input-lbl-err-ctr">
            <label for="adminPasswordInput">admin password</label>
            <input
              type="password"
              name="password"
              id="adminPasswordInput"
              class="<%= locals.errors?.password && 'invalid' %>"
              required
            />
            <%- include ('../partials/field-error', {field: 'password'}) %>
          </div>
        <% } %>

        <div class="action-btns">
          <a
            href="<%= locals.category ? category.url : '/categories' %>"
            class="btn btn-lg btn-secondary">
            cancel
          </a>
          <button class="btn-lg btn-primary" type="submit">
            <%= locals.mode === 'update' ? 'update' : 'create' %>
          </button>
        </div>
      </form>
    </div>
  </section>
</div>
